#!/bin/bash

# Ввод координат центра сектора и радиуса
echo "Введите координаты центра сектора A(x,y):"
read x y
echo "Введите радиус сектора R:"
read R

# Ввод углов k и L
echo "Введите угол k от направления севера:"
read k
echo "Введите углы L, откладываемые от второй стороны угла k:"
read L1 L2

# Вычисление координат точек, от которых откладываются углы L
L1x=$(echo "$x - $R * sin(($k + $L1) * 3.14159265 / 180)" | bc -l)
L1y=$(echo "$y + $R * cos(($k + $L1) * 3.14159265 / 180)" | bc -l)
L2x=$(echo "$x - $R * sin(($k - $L2) * 3.14159265 / 180)" | bc -l)
L2y=$(echo "$y + $R * cos(($k - $L2) * 3.14159265 / 180)" | bc -l)

# Проверка принадлежности точки B к сектору
echo "Введите координаты точки B(x1,y1):"
read x1 y1

# Вычисление расстояния от центра сектора до точки B
distance=$(echo "sqrt(($x1 - $x)^2 + ($y1 - $y)^2)" | bc -l)

# Вычисление угла между направлением на точку B и направлением на точку L1
angle1=$(echo "a($x1 - $x, $y1 - $y) - a($L1x - $x, $L1y - $y)" | bc -l)
if [ $(echo "$angle1 < 0" | bc) -eq 1 ]; then
    angle1=$(echo "$angle1 + 2 * 3.14159265" | bc -l)
fi

# Вычисление угла между направлением на точку B и направлением на точку L2
angle2=$(echo "a($x1 - $x, $y1 - $y) - a($L2x - $x, $L2y - $y)" | bc -l)
if [ $(echo "$angle2 < 0" | bc) -eq 1 ]; then
    angle2=$(echo "$angle2 + 2 * 3.14159265" | bc -l)
fi

# Проверка принадлежности точки B к сектору
if [ $(echo "$distance <= $R" | bc) -eq 1 ] && [ $(echo "$angle1 <= ($L1 + $L2) * 3.14159265 / 180" | bc) -eq 1 ] && [ $(echo "$angle2 <= ($L1 + $L2) * 3.14159265 / 180" | bc) -eq 1 ]; then
    echo "Точка B принадлежит заданному сектору."
else
    echo "Точка B не принадлежит заданному сектору."
fi